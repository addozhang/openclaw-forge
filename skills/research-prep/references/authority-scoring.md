# 权威性评分算法

对研究资料进行权威性评分，帮助筛选最可靠的一手资料。

## 评分模型

总分 100 分，由四个维度组成：

### 1. 来源官方性 (40分)

| 来源类型 | 得分 | 示例 |
|---------|------|------|
| 官方文档/规范 | 40 | kubernetes.io, RFC, W3C 规范 |
| 官方仓库/代码 | 38 | github.com/kubernetes/kubernetes |
| 官方博客 | 35 | kubernetes.io/blog |
| 知名开源项目 | 25 | CNCF 项目、Apache 项目 |
| 技术大厂博客 | 15 | Google Cloud Blog, AWS Blog |
| 个人技术博客 | 5 | Medium, Dev.to |
| 不明来源 | 0 | 无法验证的内容 |

**识别方法**:
- 检查域名是否为官方域名
- GitHub 仓库 owner 是否为官方组织
- 作者是否为核心维护者

### 2. 内容时效性 (30分)

| 时间跨度 | 得分 | 说明 |
|---------|------|------|
| 3个月内 | 30 | 最新内容 |
| 6个月内 | 25 | 较新 |
| 1年内 | 20 | 可用 |
| 2年内 | 10 | 需验证 |
| 2年以上 | 5 | 可能过期 |
| 未标注日期 | 0 | 无法判断 |

**特殊情况**:
- RFC、规范类文档：+5 分（相对稳定）
- 快速迭代项目（如 K8s）：-5 分（更新快）

### 3. 技术深度 (20分)

| 深度等级 | 得分 | 特征 |
|---------|------|------|
| 架构设计文档 | 20 | 设计原理、RFC、ADR |
| API 参考文档 | 18 | 完整 API 说明 |
| 实现细节 | 15 | 源码、配置、实现说明 |
| 使用指南 | 10 | Getting Started, Tutorial |
| 概览介绍 | 5 | What is X, Overview |

**评估标准**:
- 是否深入技术细节？
- 是否包含代码/配置示例？
- 是否解释"为什么"而非只有"怎么做"？

### 4. 社区认可度 (10分)

| 指标 | 得分 | 说明 |
|------|------|------|
| GitHub Stars > 10k | 10 | 高度认可 |
| GitHub Stars > 1k | 7 | 广泛使用 |
| GitHub Stars > 100 | 5 | 有一定认可 |
| 官方项目但 Stars 低 | 8 | 新项目或小众 |
| 无法评估 | 0 | 非 GitHub 资源 |

**其他指标**:
- Issue/PR 活跃度
- Contributor 数量
- 是否被其他权威项目引用

## 评分示例

### 示例 1: Kubernetes 官方文档

```
资料: https://kubernetes.io/docs/concepts/services-networking/gateway/
评分:
- 来源官方性: 40 (官方文档)
- 内容时效性: 25 (6个月前更新)
- 技术深度: 18 (详细 API 说明)
- 社区认可度: 10 (K8s 官方)
总分: 93
评级: 极高权威 ⭐⭐⭐⭐⭐
```

### 示例 2: 知名开源项目 README

```
资料: https://github.com/istio/istio/blob/master/README.md
评分:
- 来源官方性: 38 (官方仓库)
- 内容时效性: 30 (1个月前更新)
- 技术深度: 5 (概览介绍)
- 社区认可度: 10 (Stars > 10k)
总分: 83
评级: 高权威 ⭐⭐⭐⭐
```

### 示例 3: 个人博客技术文章

```
资料: https://medium.com/@someone/k8s-gateway-explained
评分:
- 来源官方性: 5 (个人博客)
- 内容时效性: 20 (8个月前)
- 技术深度: 10 (使用指南)
- 社区认可度: 0 (无法评估)
总分: 35
评级: 低权威 ⭐⭐
参考价值: 可作为补充，但需对比官方文档验证
```

## 权威性等级

根据总分划分等级：

| 分数范围 | 等级 | 图标 | 使用建议 |
|---------|------|------|---------|
| 90-100 | 极高权威 | ⭐⭐⭐⭐⭐ | 直接引用，优先使用 |
| 75-89 | 高权威 | ⭐⭐⭐⭐ | 可靠来源，推荐使用 |
| 60-74 | 中等权威 | ⭐⭐⭐ | 参考使用，需验证 |
| 40-59 | 一般权威 | ⭐⭐ | 补充材料，谨慎使用 |
| 0-39 | 低权威 | ⭐ | 尽量避免，仅供参考 |

## 实际应用

### 在素材文件中标注评分

```markdown
## 📚 官方文档

### Kubernetes Gateway API
- **来源**: kubernetes.io
- **链接**: https://kubernetes.io/docs/concepts/...
- **权威性**: ⭐⭐⭐⭐⭐ (93/100)
- **关键要点**:
  - ...
```

### 过滤低权威资料

收集阶段：
- 优先搜索高权威来源
- 自动过滤评分 < 40 的资料
- 对 40-60 分资料标注"需验证"

### 排序与呈现

在素材文件中：
1. 按权威性排序同类资料
2. 高权威资料放在前面
3. 低权威资料移到"补充资源"区

## 自动化脚本

使用 `scripts/authority_scorer.py` 自动评分：

```bash
# 评估单个链接
python scripts/authority_scorer.py --url "https://..."

# 批量评估素材文件中的所有链接
python scripts/authority_scorer.py --file research/2026-02-02-topic.md

# 输出评分报告
python scripts/authority_scorer.py --file research/2026-02-02-topic.md --report
```

输出示例：
```
Authority Score Report
======================
Total resources: 15
Average score: 72

High Authority (⭐⭐⭐⭐+): 8
Medium Authority (⭐⭐⭐): 5
Low Authority (⭐⭐-): 2

Recommendation: Consider removing resources with score < 40
```

## 特殊情况处理

### 1. 新技术/项目

对于刚发布的技术，可能暂时缺乏高权威资料：
- 降低时效性要求（接受更早的相关技术资料）
- 提高官方性权重（优先官方 RFC、设计文档）
- 包含核心开发者的个人博客（+10 分加成）

### 2. 小众技术

对于使用范围有限的技术：
- 降低社区认可度权重（改为 5%）
- 提高技术深度权重（改为 25%）
- 重视实际应用案例

### 3. 已废弃技术

研究历史技术时：
- 时效性评分反转（越老越好，记录最接近该技术活跃期的资料）
- 标注"历史参考"标签
- 寻找归档文档、维基百科

## 总结

权威性评分帮助：
- ✅ 快速识别最可靠的资料
- ✅ 优先处理高权威来源
- ✅ 减少二手资料的干扰
- ✅ 提高写作内容的准确性

记住：**权威性不等于完美**。即使是官方文档也可能有错误或过时内容。评分是辅助工具，最终判断仍需人工审核。
